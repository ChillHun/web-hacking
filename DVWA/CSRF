#CSRF 실습을 기록


#목적
CSRF을 실습하고 취약점과 대응법을 알아본다

#시도한 것
1.Low, Medium단계
php 코드를 다운받아 나의 메일로 보내서 링크를 클릭해 봤다
하지만 최근 브라우저에서 SameSite 쿠키정책 때문에 외부에서 온 요청은
쿠키세션을 보내지 않아서 공격이 실패 했다

2.High 단계
High단계에서는 토큰을 랜덤으로 생성하여 CSRF 공격을 막는다
자바스크립트 코드를 가져와서 XSS(Stored) 공격하여 토큰을 탈취해서 비밀번호를 변경했다

#대응방법
비밀번호를 변경하기 전 사용자 현재 계정 비밀번호를 확인하고 변경하는 방법이 있다
그럼 공격자는 쿠키나 토큰을 알아도 현재 비밀번호를 모르면 공격할 수 없다

#배운 점
요즘은 브라우저 정책때문에 CSRF가 대부분 막혀 공격이 어렵다
하지만 XSS(Stored) 공격으로 토큰을 탈취하면 우회가 가능하다

